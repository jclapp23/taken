{% extends 'base.html.twig' %}

{% block body %}
<!-- Menu -->
	<nav class="menu" id="theMenu">
		<div class="menu-wrap">
			<h1 class="logo"><a href="#home" class="smoothScroll">Taken Madlibs</a></h1>
			<i class="icon-remove menu-close"></i>
			<a href="#story-one-form" class="smoothScroll">A Mysterious Call</a>
			<a href="#story-two-form" class="smoothScroll">Confused Telemarketer</a>
            <a href="#story-three-form" class="smoothScroll">Bizarre Job Interview</a>
            <a href="#story-four-form" class="smoothScroll">Parent Teacher Conference</a>
		</div>
		
		<!-- Menu button -->
		<div id="menuToggle"><i class="icon-reorder"></i></div>
	</nav>

	<!-- ========== HEADER SECTION ========== -->
	<section id="home" name="home"></section>
	<div id="headerwrap">
		<div class="container">
			<div class="row">
				<h1>TAKEN AUDIO MADLIBS</h1>
				<div class="col-lg-6 col-lg-offset-3">
                    <h4><a target='_blank' href='http://en.wikipedia.org/wiki/Madlib'>What the hell is a madlib? Read wiki here.</a></h4>
				</div>
			</div>
		</div><!-- /container -->
	</div><!-- /headerwrap -->
	

	<!-- ========== ABOUT SECTION ========== -->
	<section id="about" name="about"></section>
	<div id="f">
		<div class="container">
			<div class="row">
				<h3>If you think you have the required skills, fill out one of the forms below to generate a story.</h3>
				<p class="centered"><i class="icon icon-circle"></i><i class="icon icon-circle"></i><i class="icon icon-circle"></i></p>

				<div class="col-lg-6 col-lg-offset-3">
                    <form id="story-one-form" class="form-horizontal story-forms" >
                        <fieldset>

                         <p class="text-center">Story One: A Mysterious Call</p>

                             <div class="form-group">
                                <label for="animalOne" class="control-label col-xs-2">Animal One</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="animalOne" name="animal_one" placeholder="Enter an animal" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="personName" class="control-label col-xs-2">Person Name</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="personName" name="person_name" placeholder="Enter name of a person you know" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="placeYouDislike" class="control-label col-xs-2">Place you dislike</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="placeYouDislike" name="place_you_dislike" placeholder="Enter the name of a place you dislike" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="animalTwo" class="control-label col-xs-2">Animal Two</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="animalTwo" name="animal_two" placeholder="Enter a different animal than above" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="pastTenseVerb" class="control-label col-xs-2">Past Tense Verb</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="pastTenseVerb" name="past_tense_verb" placeholder="Enter a past tense verb, ie 'destroyed' " required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="somethingYouValue" class="control-label col-xs-2">Something You Value</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="somethingYouValue" name="something_you_value" placeholder="Enter something you value (noun)" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="country" class="control-label col-xs-2">Name of a Country</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="country" name="country" placeholder="Enter the name of a country" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="pluralNoun" class="control-label col-xs-2">Plural Noun</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="pluralNoun" name="plural_noun" placeholder="Enter a plural noun" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="singularNoun" class="control-label col-xs-2">Singular Noun</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="singularNoun" name="singular_noun" placeholder="Enter a singular noun" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <div>
                                    <button type="submit" class="btn btn-primary">Submit Story One</button>
                                </div>
                            </div>
                        </fieldset>
                    </form>
				</div>

                <div class="col-lg-6 col-lg-offset-3">
                    <form id="story-two-form" class="form-horizontal" >
                        <fieldset>
                            <p class="centered"><i class="icon icon-circle"></i><i class="icon icon-circle"></i><i class="icon icon-circle"></i></p>
                            <p class="text-center">Story Two: Confused Telemarketer</p>

                            <div class="form-group">
                                <label for="personName" class="control-label col-xs-2">Person Name</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="personName" name="person_name" placeholder="Enter name of a person you know" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="adjectiveOne" class="control-label col-xs-2">Derogatory Adjective One</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="adjectiveOne" name="adjective_one" placeholder="Enter a derogatory adjective" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="company" class="control-label col-xs-2">Company</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="company" name="company" placeholder="Enter the name of a company" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="adjectiveTwo" class="control-label col-xs-2">Adjective</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="adjectiveTwo" name="adjective_two" placeholder="Enter an adjective" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="singularNoneOne" class="control-label col-xs-2">Singular Noun One</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="singularNoneOne" name="singular_noun_one" placeholder="Enter a singular noun" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="pluralNounOne" class="control-label col-xs-2">Plural Noun One</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="pluralNounOne" name="plural_noun_one" placeholder="Enter a plural noun" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="pluralNounTwo" class="control-label col-xs-2">Plural Noun Two</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="pluralNounTwo" name="plural_noun_two" placeholder="Enter another plural noun" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="adjectiveThree" class="control-label col-xs-2">Derogatory Adjective Three</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="adjectiveThree" name="adjective_three" placeholder="Enter another derogatory adjective" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="presentTenseVerbOne" class="control-label col-xs-2">Present Tense Verb One</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="pastTenseVerbOne" name="present_tense_verb_one" placeholder="Enter a present tense verb, ie 'jog' " required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="pluralNounThree" class="control-label col-xs-2">Plural Noun Three</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="pluralNounThree" name="plural_noun_three" placeholder="Enter another plural noun" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="pluralNounFour" class="control-label col-xs-2">Plural Noun Four</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="pluralNounFour" name="plural_noun_four" placeholder="Enter another plural noun" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="singularNounTwo" class="control-label col-xs-2">Singular Noun Two</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="singularNounTwo" name="singular_noun_two" placeholder="Enter a singular noun" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="pluralNounFive" class="control-label col-xs-2">Plural Noun Five</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="pluralNounFive" name="plural_noun_five" placeholder="Enter another plural noun" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="pastTenseVerb" class="control-label col-xs-2">Past Tense Verb</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="pastTenseVerb" name="past_tense_verb" placeholder="Enter a past tense verb, ie 'destroyed' " required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="singularNounThree" class="control-label col-xs-2">Singular Noun Three</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="singularNounThree" name="singular_noun_three" placeholder="Enter a singular noun" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="adjectiveFour" class="control-label col-xs-2">Adjective</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="adjectiveFour" name="adjective_four" placeholder="Enter another adjective" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="presentTenseVerbTwo" class="control-label col-xs-2">Present Tense Verb Two</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="pastTenseVerbTwo" name="present_tense_verb_two" placeholder="Enter another present tense verb, ie 'jog' " required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="animal" class="control-label col-xs-2">Animal</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="animal" name="animal" placeholder="Enter an animal" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <div>
                                    <button type="submit" class="btn btn-primary">Submit Story Two</button>
                                </div>
                            </div>
                        </fieldset>
                    </form>
                </div>


                <div class="col-lg-6 col-lg-offset-3">
                    <form id="story-three-form" class="form-horizontal" >
                        <fieldset>
                            <p class="centered"><i class="icon icon-circle"></i><i class="icon icon-circle"></i><i class="icon icon-circle"></i></p>
                            <p class="text-center">Story Three: Bizarre Job Interview</p>


                            <div class="form-group">
                                <label for="company" class="control-label col-xs-2">Company</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="company" name="company" placeholder="Enter the name of a company" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="career" class="control-label col-xs-2">Job Title</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="career" name="job_title" placeholder="Enter an job title" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="career" class="control-label col-xs-2">Embarrassing Career</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="career" name="career" placeholder="Enter an embarrasing career" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="personName" class="control-label col-xs-2">Person Name</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="personName" name="person_name" placeholder="Enter name of a person you know" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="singularNoneOne" class="control-label col-xs-2">Singular Noun One</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="singularNoneOne" name="singular_noun_one" placeholder="Enter a singular noun" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="pluralNounOne" class="control-label col-xs-2">Plural Noun One</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="pluralNounOne" name="plural_noun_one" placeholder="Enter a plural noun" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="adjectiveOne" class="control-label col-xs-2">Derogatory Adjective One</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="adjectiveOne" name="adjective_one" placeholder="Enter a derogatory adjective" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="adjectiveTwo" class="control-label col-xs-2">Derogatory Adjective Two</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="adjectiveTwo" name="adjective_two" placeholder="Enter another derogatory adjective" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="singularNounTwo" class="control-label col-xs-2">Singular Noun Two</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="singularNounTwo" name="singular_noun_two" placeholder="Enter a singular noun" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="feeling" class="control-label col-xs-2">A feeling</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="feeling" name="feeling" placeholder="Enter a feeling" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="pluralNounTwo" class="control-label col-xs-2">Plural Noun Two</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="pluralNounTwo" name="plural_noun_two" placeholder="Enter another plural noun" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="adjectiveThree" class="control-label col-xs-2">Derogatory Adjective Two</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="adjectiveThree" name="adjective_three" placeholder="Enter another derogatory adjective" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="adjectiveFour" class="control-label col-xs-2">Adjective</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="adjectiveFour" name="adjective_four" placeholder="Enter another adjective" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="presentTenseVerbOne" class="control-label col-xs-2">Present Tense Verb One</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="pastTenseVerbOne" name="present_tense_verb_one" placeholder="Enter a present tense verb, ie 'jog' " required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="pluralNounThree" class="control-label col-xs-2">Plural Noun Three</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="pluralNounThree" name="plural_noun_three" placeholder="Enter another plural noun" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="pluralNounFour" class="control-label col-xs-2">Plural Noun Four</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="pluralNounFour" name="plural_noun_four" placeholder="Enter another plural noun" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="animals" class="control-label col-xs-2">Animals</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="animals" name="animals" placeholder="Enter a plural of animals, ie 'dogs' " required>
                                </div>
                            </div>

                            <div class="form-group">
                                <div>
                                    <button type="submit" class="btn btn-primary">Submit Story Three</button>
                                </div>
                            </div>
                        </fieldset>
                    </form>
                </div>


                <div class="col-lg-6 col-lg-offset-3">
                    <form id="story-four-form" class="form-horizontal" >
                        <fieldset>
                            <p class="centered"><i class="icon icon-circle"></i><i class="icon icon-circle"></i><i class="icon icon-circle"></i></p>
                            <p class="text-center">Story Four: Parent Teacher Conference</p>

                            <div class="form-group">
                                <label for="properName" class="control-label col-xs-2">Proper Name</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="properName" name="proper_name" placeholder="Enter a proper name of someone you know ie, Mr. Smith" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="schoolSubject" class="control-label col-xs-2">School Subject</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="schoolSubject" name="school_subject" placeholder="Enter a school subject" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="feelingOne" class="control-label col-xs-2">A feeling</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="feelingOne" name="feelingOne" placeholder="Enter a feeling" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="adjectiveOne" class="control-label col-xs-2">Derogatory Adjective One</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="adjectiveOne" name="adjective_one" placeholder="Enter a derogatory adjective" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="adjectiveTwo" class="control-label col-xs-2">Adjective</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="adjectiveTwo" name="adjective_two" placeholder="Enter an adjective" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="feelingTwo" class="control-label col-xs-2">A feeling</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="feelingTwo" name="feelingTwo" placeholder="Enter another feeling" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="singularNoneOne" class="control-label col-xs-2">Singular Noun One</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="singularNoneOne" name="singular_noun_one" placeholder="Enter a singular noun" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="pluralNounOne" class="control-label col-xs-2">Plural Noun One</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="pluralNounOne" name="plural_noun_one" placeholder="Enter a plural noun" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="place" class="control-label col-xs-2">Name of a place</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="place" name="place" placeholder="Enter the name of a place" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="adjectiveThree" class="control-label col-xs-2">Derogatory Adjective Two</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="adjectiveThree" name="adjective_three" placeholder="Enter another derogatory adjective" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="pastTenseVerbOne" class="control-label col-xs-2">Past Tense Verb</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="pastTenseVerbOne" name="past_tense_verb_one" placeholder="Enter a past tense verb, ie 'destroyed' " required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="singularNounTwo" class="control-label col-xs-2">Singular Noun Two</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="singularNounTwo" name="singular_noun_two" placeholder="Enter a singular noun" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="personNameTwo" class="control-label col-xs-2">Person Name</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" id="personNameTwo" name="person_name_two" placeholder="Enter another name of a person you know" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <div>
                                    <button type="submit" class="btn btn-primary">Submit Story Four</button>
                                </div>
                            </div>
                        </fieldset>
                    </form>
                </div>


            </div>
		</div><!-- /container -->
	</div><!-- /f -->


    <!-- Modal -->
    <div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Processing Audio Madlib</h4>
                </div>
                <div class="modal-body">

                    <div class="progress progress-striped active">
                        <div class="progress-bar" style="width: 100%;">
                            <span class="sr-only">100% Complete</span>
                        </div>
                    </div>

                    <div class="audio-player" style="display:none">
                        <audio  controls >
                            <source src="#" type="audio/mpeg">
                            Your browser does not support the audio element.
                        </audio>
                        <p>Want to save MP3 file? Just right click audio player above and choose Save Audio As.</p>
                    </div>

                    <input type="email" class="form-control" id="email" name="email" placeholder="enter email" required><br>

                    <div class="madlib-actions" style="display:none">
                        <button id="emailToFriend" type="button" data-file="" class="btn btn-info">Email to a friend</button>
                    </div><br>

                    <p class="email-success alert alert-success" style="display:none" >Your email has been sent!</p>
                    <p class="email-error alert alert-danger" style="display:none" >There was an error sending email!</p>


                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->


    <script>

        $(function() {

            var emailFileUrl = '{{ url('email_file') }}';

            $('#emailToFriend').on("click",function(){

                if($('#email').val() == ''){
                    alert('You must enter an email!');
                    return false;
                }

                $.ajax({
                    url: emailFileUrl,
                    type: "post",
                    data: { email: $('#email').val(), file: $(this).attr("data-file"), title: $(this).attr("data-title") }
                }).done(function (data){

                    if(data.isSent)
                        $('.email-success').show();
                    else
                        $('.email-error').show();

                });

            });

            $('.story-forms').on("submit",function(){

                if($(this).attr("id") == 'story-one-form' )
                    var storyUrl = '{{ url('story_one') }}';

                if($(this).attr("id") == 'story-two-form' )
                    var storyUrl = '{{ url('story_two') }}';

                if($(this).attr("id") == 'story-three-form' )
                    var storyUrl = '{{ url('story_three') }}';

                if($(this).attr("id") == 'story-four-form' )
                    var storyUrl = '{{ url('story_four') }}';

                $('#modal').modal('show');

                $.ajax({
                    url: storyUrl,
                    type: "post",
                    data: $(this).serialize()
                }).done(function (data){

                    if(data.filename){

                        $('.progress').removeClass('progress-striped').removeClass('active').find('.progress-bar').addClass('progress-bar-success');
                        $('.audio-player audio').attr("src",data.filename).show();
                        $('.audio-player').show();
                        $('#emailToFriend').attr("data-file",data.filename);
                        $('#emailToFriend').attr("data-title",data.title);
                        $('.madlib-actions').show();

                    }else{
                        alert('Woops! Something went wrong..');
                    }
                });

                return false;

            });

        });

    </script>

{% endblock %}
